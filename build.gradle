buildscript {
	repositories { jcenter() }
	dependencies { classpath 'edu.sc.seis.gradle:launch4j:2.4.0' }
}

apply plugin: 'java'
apply plugin: 'edu.sc.seis.launch4j'

repositories {
	jcenter()
	mavenCentral()
}

dependencies { }

jar {
	manifest { attributes 'Main-Class': 'com.dosse.stickynotes.Main' }
	archivesBaseName = 'StickyNotes'
}

launch4j {
	/*mainClassName = 'com.dosse.stickynotes.Main'
	//icon = 'src/main/resources/icon.ico'
	outputDir = 'libs/Windows'
	outfile = 'StickyNotes.exe'*/
	xmlFileName = 'launch4j.xml'
}

task createSetup doLast {
	exec { commandLine "wine", "/home/ravi/.wine/drive_c/users/ravi/Inno Setup 5/ISCC.exe", "/Q", "z:/home/ravi/Coding/FancyNoteBot/setup.iss" }
}

tasks.createSetup.dependsOn(createExe)
build.finalizedBy(createSetup)
